
macro(set_maybe_parent)
    if (PROJECT_IS_TOP_LEVEL)
        set(${ARGV0} ${ARGV1})
    else ()
        set(${ARGV0} ${ARGV1} PARENT_SCOPE)
    endif ()
endmacro()

macro(set_cxx_version_20)
    # Handle pre C++20 ABI-freeze MSVC versions
    if (MSVC AND CMAKE_CXX_COMPILER_VERSION VERSION_LESS_EQUAL 19.30)
        set(CMAKE_CXX_STANDARD 23) # /std:c++latest required for MSVC pre abi-freeze
    else ()
        set(CMAKE_CXX_STANDARD 20)
    endif ()
endmacro()